<configuration>
    <property>
        <name>dfs.replication</name>
        <value>1</value>
    </property>

    <property>
      <name>dfs.permissions</name>
      <value>false</value>
    </property>

    <property>
      <name>dfs.webhdfs.enabled</name>
      <value>true</value>
    </property>

    <property>
        <name>dfs.nameservices</name>
        <value>hacluster</value>
    </property>

    <property>
        <name>dfs.ha.namenodes.hacluster</name>
        <value>nn1,nn2</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.hacluster.nn1</name>
        <value>hdfs:8020</value>
    </property>
    <property>
        <name>dfs.namenode.rpc-address.hacluster.nn2</name>
        <value>hdfs2:8020</value>
    </property>

    <property>
        <name>dfs.namenode.http-address.hacluster.nn1</name>
        <value>hdfs:9870</value>
    </property>
    <property>
        <name>dfs.namenode.http-address.hacluster.nn2</name>
        <value>hdfs2:9870</value>
    </property>

    <property>
        <name>dfs.namenode.https-address.hacluster.nn1</name>
        <value>hdfs:9871</value>
    </property>
    <property>
        <name>dfs.namenode.https-address.hacluster.nn2</name>
        <value>hdfs2:9871</value>
    </property>

    <property>
        <name>dfs.namenode.servicerpc-address.hacluster.nn1</name>
        <value>hdfs:8022</value>
    </property>
    <property>
        <name>dfs.namenode.servicerpc-address.hacluster.nn2</name>
        <value>hdfs2:8022</value>
    </property>

    <property>
        <name>dfs.namenode.shared.edits.dir</name>
        <value>file:///hdfs-krb/shared-dir</value>
    </property>

    <property>
        <name>dfs.client.failover.proxy.provider.hacluster</name>
        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>
    </property>

    <property>
        <name>dfs.ha.fencing.methods</name>
        <value>sshfence</value>
    </property>

    <property>
        <name>dfs.ha.fencing.ssh.private-key-files</name>
        <value>/root/.ssh/id_rsa</value>
    </property>

    <property>
      <name>dfs.data.transfer.protection</name>
      <value>privacy</value>
    </property>

    <property>
        <name>dfs.http.policy</name>
        <value>HTTP_AND_HTTPS</value>
    </property>

    <property>
        <name>ignore.secure.ports.for.testing</name>
        <value>true</value>
    </property>


    <!-- Enable NFS -->
    <!-- https://hadoop.apache.org/docs/r2.4.1/hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html -->
    <property>
      <name>dfs.namenode.accesstime.precision</name>
      <value>3600000</value>
      <description>
        The access time for HDFS file is precise up to this value.
        The default value is 1 hour. Setting a value of 0 disables
        access times for HDFS.
      </description>
    </property>

    <property>
      <name>dfs.datanode.data.dir.perm</name>
      <value>700</value>
    </property>

    <property>
      <name>dfs.namenode.kerberos.principal</name>
      <value>root/hdfs.example.com@EXAMPLE.COM</value>
    </property>

    <property>
      <name>dfs.namenode.keytab.file</name>
      <value>/root/.keytab</value>
    </property>

    <property>
      <name>dfs.web.authentication.kerberos.principal</name>
      <value>root/hdfs.example.com@EXAMPLE.COM</value>
    </property>

    <property>
      <name>dfs.web.authentication.keytab.file</name>
      <value>/root/.keytab</value>
    </property>

    <property>
      <name>dfs.datanode.kerberos.principal</name>
      <value>root/hdfs.example.com@EXAMPLE.COM</value>
    </property>

    <property>
      <name>dfs.datanode.keytab.file</name>
      <value>/root/.keytab</value>
    </property>

    <property>
      <name>dfs.block.access.token.enable</name>
      <value>true</value>
    </property>

    <property>
      <name>dfs.nfs3.dump.dir</name>
      <value>/data/hdfs-nfs/</value>
    </property>

    <property>
      <name>dfs.nfs.exports.allowed.hosts</name>
      <value>* rw</value>
    </property>

    <property>
        <name>dfs.client.use.datanode.hostname</name>
        <value>false</value>
    </property>

</configuration>
